<%- include('../includes/head.ejs') %>
</head>

<body>

    <%- include('../includes/navigation.ejs') %>

    <main>
        <% if(prods.length > 0){ %>
        <div class="grid">
            <% for (let product of prods) {%>
        <article class="card product-item">
            <header class="card__header">
                <h1 class="product__title"> <%= product.title %> </h1>
                </header>
                
                <div class="card__image">
                    <img src="/<%= product.imageUrl %>" alt="book photo" >
                </div>

                <div class="card__content">
                    <h2 class="product__price">
                        $<%= product.price %>
                    </h2>
                    <p class="product__description">
                        <%= product.description %>
                    </p>
                </div>


                <div class="card__actions">
                    <a href="/product/<%= product._id %>" class="btn"> Details</a>
                    <%- include('../includes/add-to-card.ejs', {product: product}) %>
                  
                </div>
    
        </article>
         <% } %>
    </div>
    <%- include('../includes/pagination.ejs',
    {
        currentPage: currentPage,
        nextPage: nextPage,
        previousPage: previousPage,
        lastPage: lastPage,
        hasNextPage: hasNextPage,
        hasPreviousPage: hasPreviousPage
    }) %>

        <% } else { %>
            <h1> Not products found</h1>

            <%}%>
    </main>
  
    <%- include('../includes/end.ejs') %>